<nav class="top-nav">
  <!-- Left Section: Logo/Icon -->
  <div class="nav-left">
    <div class="logo">
      <img [src]="logoImage" alt="MLX Logo" class="logo-icon" />
      <span class="logo-text">MobileLabXpress</span>
    </div>
  </div>

  <!-- Right Section: Notifications & Profile -->
  <div class="nav-right">
    <!-- Notification Icon -->
    <button class="icon-button notification-button" (click)="viewNotifications()" title="Notifications">
      <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        <path d="M13.73 21a2 2 0 0 1-3.46 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
      <span class="notification-badge" *ngIf="hasNotifications && notificationCount > 0">{{ notificationCount }}</span>
    </button>

    <!-- Profile Dropdown -->
    <div class="profile-container">
      <button class="icon-button profile-button" (click)="toggleProfileMenu()" title="Profile">
        <div class="profile-avatar">{{ sampleUser.name.charAt(0) }}</div>
      </button>

      <!-- Dropdown Menu -->
      <div class="profile-menu" *ngIf="profileMenuOpen">
        <div class="profile-header">
          <div class="profile-info">
            <p class="profile-name">{{ sampleUser.name }}</p>
            <p class="profile-email">{{ sampleUser.email }}</p>
            <p class="profile-role">{{ sampleUser.role }}</p>
          </div>
        </div>

        <div class="profile-divider"></div>

        <div class="profile-actions">
          <a href="#" class="profile-link">
            <svg class="action-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="2" />
              <path d="M6 20c0-3.314 2.686-6 6-6s6 2.686 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
            </svg>
            View Profile
          </a>
          <a href="#" class="profile-link">
            <svg class="action-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="12" cy="12" r="1" fill="currentColor" />
              <circle cx="19" cy="12" r="1" fill="currentColor" />
              <circle cx="5" cy="12" r="1" fill="currentColor" />
            </svg>
            Settings
          </a>
          <a href="#" class="profile-link">
            <svg class="action-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M9 3h6v2H9V3zm0 16h6v2H9v-2z" fill="currentColor" />
              <path d="M8 4h8c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H8c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            Help & Support
          </a>
        </div>

        <div class="profile-divider"></div>

        <button class="logout-button" (click)="logout()">
          <svg class="action-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            <polyline points="16 8 20 12 16 16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            <line x1="9" y1="12" x2="20" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
          Logout
        </button>
      </div>
    </div>
  </div>
</nav>

<!-- Close menu when clicking outside -->
<div class="overlay" *ngIf="profileMenuOpen" (click)="closeProfileMenu()"></div>
